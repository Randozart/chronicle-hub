@media (max-width: 768px) {
    html {
        font-size: 14px;
    }
    
    h1, .location-text h1, .banner-title {
        font-size: 1.8rem !important;
    }
    
    h2, .action-box h3 {
        font-size: 1.2rem !important;
    }
    
    .storylet-container, .character-sheet, .sidebar-content-scroll {
        padding: 1.25rem !important;
    }
    
    .location-header {
        padding: 1rem !important;
    }

    .main-content-wrapper, 
    .layout-column, 
    .content-area {
        width: 100% !important;
        max-width: 100vw !important;
        padding-left: 0rem !important;  
        padding-right: 0rem !important;
        margin: 0 !important;
    }
    img {
        max-width: 100%;
        height: auto;
    }
    
}
@media (max-width: 1024px) {
    .layout-grid-nexus {
        grid-template-columns: 1fr; 
        grid-template-rows: auto 1fr;
        height: auto; 
        overflow-y: auto !important;
    }
    .layout-grid-tabletop {
        display: flex !important;
        flex-direction: column;
        height: auto !important;
        overflow-y: auto !important;
    }
    .tabletop-visual-col {
        order: 1;
        height: 250px;
        flex-shrink: 0;
        width: 100%;
        border-right: none;
        border-bottom: 1px solid var(--border-color);
    }
    .layout-column.content-column {
        order: 2;
        width: 100% !important;
        min-width: 0 !important;
    }
    .sidebar-panel {
        display: none !important;
        position: fixed !important;
        top: 0; left: 0; right: 0; bottom: 0;
        z-index: 9999;
        width: 100% !important;
        background-color: var(--bg-panel);
    }
    .sidebar-panel.mobile-visible {
        display: flex !important;
        flex-direction: column;
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        
        width: 100% !important;
        height: 100vh !important;
        height: 100dvh !important;
        max-height: none !important; 
        transform: none !important;
        border: none !important;
        margin: 0 !important;
        background-color: var(--bg-main); 
        background-color: var(--bg-panel);
        
        overflow-y: hidden;
    }
    .sidebar-panel {
        display: none; 
        position: fixed;
        top: 0; left: 0; right: 0; bottom: 0;
        z-index: 9999;
        width: 100%;
        background-color: var(--bg-panel);
        padding: 0;
    }
    .london-layout-container .layout-main-grid {
        display: flex;
        flex-direction: column;
        height: auto;
        overflow: visible;
        padding: 1rem;
    }

    .content-area {
        flex: 1;
        overflow-y: auto !important;
        position: relative;
        padding: 0 !important; 
    }

}
@media (max-width: 768px) {
    .container, .storylet-container {
        width: 100%;
        box-sizing: border-box;
        margin: 0 !important;
        border-left: none !important;
        border-right: none !important;
        border-radius: 0 !important;
    }
    .admin-layout, .editor-layout {
        flex-direction: column;
        height: auto;
        overflow-y: auto;
    }

    .admin-sidebar, .editor-sidebar {
        width: 100% !important;
        height: auto;
        position: static;
        flex-direction: row;
        overflow-x: auto;
        border-right: none;
        border-bottom: 1px solid var(--border-color);
    }
    
    .admin-nav ul, .editor-toolbar {
        display: flex;
        flex-wrap: nowrap;
        align-items: center;
        padding: 0.5rem;
    }

    .admin-main, .editor-main {
        height: auto;
        min-height: 500px;
    }

    .admin-split-view {
        flex-direction: column;
    }
    .admin-list-col {
        width: 100%;
        position: static;
        max-height: 300px;
        margin-bottom: 1rem;
    }
    .storylet-main-content {
        flex-direction: column;
    }
    .storylet-image-container {
        width: 100%;
        max-width: 100%;
        margin-bottom: 1rem;
    }
    .storylet-image {
        aspect-ratio: 16/9;
    }
    
    .option-content-wrapper {
        flex-direction: column;
        align-items: center;
        text-align: center;
    }
    .option-image-container {
        width: 80px;
        margin-bottom: 0.5rem;
    }
    .tab-bar {
        display: flex;
        width: 100%;
    }
    
    .tab-btn {
        flex: 1;
        text-align: center;
        padding: 1rem 0.5rem;
    }

    .theme-wrapper, 
    .main-content-wrapper, 
    .layout-column, 
    .content-area,
    .hub-view,
    .event-view {
        width: 100% !important;
        max-width: 100vw !important;
        box-sizing: border-box !important;
    }
    .location-header {
        flex-direction: column !important;
        align-items: flex-start !important;
        text-align: left !important;
        gap: 1rem !important;
        width: 100% !important;
    }
    .location-header > div:first-child {
        flex-direction: column !important;
        gap: 0.5rem !important;
        width: 100%;
        align-items: flex-start !important;
    }
    .location-description {
        max-width: 100% !important;
        overflow-wrap: break-word !important;
        word-break: break-word !important;
    }
    .location-header > div:last-child {
        width: 100%;
        justify-content: flex-start !important;
        flex-wrap: wrap !important;
        margin-top: 0.5rem;
    }
    .tab-bar {
        display: flex;
        flex-wrap: wrap;
        width: 100%;
    }
    
    .tab-btn {
        flex: 1 1 auto;
        min-width: 80px;
        font-size: 0.8rem;
        padding: 0.8rem 0.5rem;
    }
    .visual-nav-buttons {
        width: 100%;
        padding: 0 1rem;
        box-sizing: border-box;
        flex-wrap: wrap;
    }
    .editor-sidebar-collapsed-text {
        writing-mode: horizontal-tb !important;
        transform: none !important;
        letter-spacing: 1px;
        font-size: 0.7rem;
    }
    
    .editor-sidebar {
        min-height: 40px;
    }

    html {
        font-size: 14px; 
    }
}
@media (max-width: 768px) {
    html {
        font-size: 12px; 
    }
    h1, .location-text h1, .banner-title, .profile-name {
        font-size: 1.8rem !important;
        line-height: 1.1;
    }
    
    h2, .action-box h3 {
        font-size: 1.3rem !important;
    }
    .container, 
    .storylet-container, 
    .main-content-wrapper,
    .admin-content-wrapper {
        padding-left: 10px !important;
        padding-right: 10px !important; 
        width: 100% !important;
        max-width: 100vw !important;
        box-sizing: border-box !important;
        margin-bottom: 6rem !important;
    }
    img {
        max-width: 100%;
        height: auto;
    }
    
    .inventory-grid {
        --inv-item-width: 100% !important;
        display: grid !important;
        grid-template-columns: 1fr !important;
        width: 100% !important;
        box-sizing: border-box !important;
        gap: 1rem !important;
    }

    .inventory-item {
        width: 100% !important;
        max-width: none !important;
        box-sizing: border-box !important;
    }
    .inventory-item .item-image-container {
        width: 100%;
        margin-bottom: 0.5rem;
    }

    
}
@media (max-width: 900px) {
    .admin-list-col {
        min-height: 100px;
        max-height: 180px !important;
    }
    .form-row {
        display: flex;
        gap: 0.5rem !important;
    }
    
    .form-group {
        margin-bottom: 0.8rem !important;
    }
    .form-input, .form-select {
        padding: 0.4rem !important;
        font-size: 1rem !important;
    }
}
@media (max-width: 1024px) {
    .layout-grid-nexus {
        grid-template-columns: 1fr; 
        grid-template-rows: auto 1fr;
        height: auto; 
        overflow-y: auto;
    }
    .layout-grid-tabletop {
        display: flex !important;
        flex-direction: column;
        height: auto !important;
        overflow-y: auto !important;
    }
    .tabletop-visual-col {
        order: 1;
        height: 200px;
        width: 100%;
    }

    .layout-column.content-column {
        order: 2;
    }
    .sidebar-panel {
        display: none; 
        position: fixed;
        top: 0; left: 0; right: 0; bottom: 0;
        z-index: 9999;
        width: 100%;
        background-color: var(--bg-panel);
    }

    .sidebar-panel.mobile-visible {
        display: flex !important;
    }
    .editor-sidebar-collapsed-text {
        writing-mode: horizontal-tb !important;
        transform: none !important;
        letter-spacing: 1px;
        font-size: 0.9rem;
    }
}
@media (max-width: 768px) {
    html {
        font-size: 10px; 
    }
    h1, .location-text h1, .banner-title, .profile-name, .docs-h1 {
        font-size: 1.6rem !important;
        line-height: 1.2;
        margin-bottom: 0.5rem !important;
    }
    
    h2, .action-box h3, .location-text h2, .docs-h2 {
        font-size: 1.2rem !important;
        margin-bottom: 0.5rem !important;
    }

    h3, .option-button h3, .card-text h3 {
        font-size: 1.1rem !important;
        margin-bottom: 0.2rem !important;
    }

    p, .storylet-text, .item-desc, .option-button p {
        line-height: 1.5 !important;
    }
    .container, 
    .storylet-container, 
    .main-content-wrapper,
    .admin-content-wrapper,
    .dashboard-content,
    .layout-main-grid {
        padding: 1rem !important;
        width: 100% !important;
        max-width: 100vw !important;
        box-sizing: border-box !important;
    }
    .storylet-main-content {
        gap: 1rem !important;
        margin-bottom: 1rem !important;
        flex-direction: column;
    }
    .option-button {
        padding: 0.75rem 1rem !important;
        min-height: auto !important;
        margin-bottom: 0.75rem !important;
    }

    .option-content-wrapper {
        padding: 0 !important;
        gap: 0.75rem !important;
        align-items: center;
        flex-direction: row !important;
        text-align: left !important;
    }
    .option-image-container {
        width: 50px !important;
        flex-shrink: 0;
        margin: 0 !important;
    }
    .action-box {
        padding: 0.5rem !important;
        margin-bottom: 0.5rem !important;
    }
    
    .action-timer {
        font-size: 0.9rem !important;
    }
    .inventory-item {
        padding: 0.5rem !important;
    }
    
    .inventory-grid {
        gap: 0.5rem !important;
        grid-template-columns: 1fr !important;
    }
    .layout-banner, .location-wrapper.mode-banner {
        height: 140px !important;
        min-height: 0 !important;
    }
    
    .banner-content {
        padding: 1rem !important;
        align-items: flex-end !important;
        flex-direction: row !important;
    }
    
    .banner-top-controls {
        top: 0.5rem;
        right: 0.5rem;
    }
    .switch-char-btn-transparent {
        padding: 0.25rem 0.5rem !important;
        font-size: 0.7rem !important;
    }
}
@media (max-width: 1024px) {
    .layout-grid-nexus,
    .layout-grid-tabletop,
    .london-layout-container .layout-main-grid {
        display: flex !important;
        flex-direction: column;
        height: auto !important;
        overflow: visible !important;
        grid-template-columns: 1fr !important;
    }
    .content-area, 
    .layout-content-col,
    .elysium-content {
        overflow: visible !important;
        height: auto !important;
        flex: 1 1 auto;
        padding: 0 !important;
    }
    .tabletop-visual-col {
        height: 180px !important;
        width: 100%;
        order: -1;
    }
    .sidebar-panel, .elysium-sidebar {
        display: none !important;
        position: fixed !important;
        top: 0; left: 0; bottom: 0;
        z-index: 2000 !important;
        width: 85vw !important;
        max-width: 300px !important;
        
        background-color: var(--bg-panel) !important;
        box-shadow: 10px 0 50px rgba(0,0,0,0.5) !important;
        border-right: 1px solid var(--border-color);
        
        overflow-y: auto !important;
        padding: 0 !important;
        margin: 0 !important;
        transform: none !important;
    }
    .sidebar-panel.mobile-visible, .elysium-sidebar.mobile-visible {
        display: flex !important;
        flex-direction: column;
        animation: slideIn 0.2s ease-out;
    }
    .mobile-close-btn {
        display: block !important;
        width: 100%;
        text-align: left;
        background: var(--bg-item);
        border: none;
        border-bottom: 1px solid var(--border-color);
        padding: 1rem !important;
        color: var(--text-muted);
        font-weight: bold;
        text-transform: uppercase;
        font-size: 0.8rem;
        cursor: pointer;
    }
    .sidebar-content-scroll {
        padding: 1rem !important;
    }
    .mobile-sidebar-toggle {
        display: flex !important;
        align-items: center;
        justify-content: center;
        
        position: fixed;
        bottom: 1.5rem;
        right: 1.5rem;
        z-index: 1500;
        
        background-color: var(--accent-highlight);
        color: var(--bg-main);
        
        border: 2px solid rgba(255,255,255,0.2);
        border-radius: 50px;
        
        padding: 0.8rem 1.2rem;
        font-weight: 800;
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 1px;
        
        box-shadow: 0 4px 15px rgba(0,0,0,0.5);
        backdrop-filter: blur(4px);
    }
}
@keyframes slideIn {
    from { transform: translateX(-100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
}
@media (max-width: 900px) {
    .admin-layout { flex-direction: column; height: auto; }
    .admin-sidebar { 
        position: relative !important; 
        width: 100% !important; 
        height: auto !important; 
        flex-direction: row; 
        overflow-x: auto; 
        box-shadow: none;
        border-bottom: 1px solid var(--tool-border);
    }
    .admin-nav ul { flex-direction: row !important; }
    .admin-link { width: auto !important; border-bottom: none !important; white-space: nowrap; }
    
    .form-row { flex-direction: column; gap: 0.5rem; }
}